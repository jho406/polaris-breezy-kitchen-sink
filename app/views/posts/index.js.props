if flash.any?
  json.toast do
    json.error flash.key?(:error)
    json.content flash[:notice]
  end
end

json.layout nil, partial: 'layout'

json.title 'Account'

json.callout(defer: :auto) do
  sleep 5
  json.body "Finished! Time: #{Time.now.to_i}"
end

posts = @posts
json.posts do
  json.resource_name({
    singular: 'post',
    plural: 'posts'
  })

  json.items do
    json.array! posts do |post|
      json.id post.id
      json.title 'Mae Jemison'
      json.location 'Decantur, USA'
      json.body post.body
      json.created_at post.created_at
      json.updated_at post.updated_at
      json.edit_post_path edit_post_path(post)
      json.post_path post_path(post)
    end
  end
end
